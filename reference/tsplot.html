<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="This function allows the user to quickly plot a time scale data table"><title>Time series plotting using a custom time scale — tsplot • divDyn</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Time series plotting using a custom time scale — tsplot"><meta property="og:description" content="This function allows the user to quickly plot a time scale data table"><meta property="og:image" content="https://divDyn.github.io/reference/figures/logo.png"><meta property="og:image:alt" content="The divDyn sticker."><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@atkocsis"><meta name="twitter:site" content="@atkocsis"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">divDyn</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tutorials">Tutorials</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tutorials">
    <a class="dropdown-item" href="../articles/divDyn_1_installation.html">1. Installation</a>
    <a class="dropdown-item" href="../articles/divDyn_2_handout.html">2. Handout</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-internals">Internals</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-internals">
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://www.evolv-ed.net/">How-to guides on EvolvED</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/divDyn/divDyn/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Time series plotting using a custom time scale</h1>
      <small class="dont-index">Source: <a href="https://github.com/divDyn/divDyn/blob/HEAD/R/plotting.R" class="external-link"><code>R/plotting.R</code></a></small>
      <div class="d-none name"><code>tsplot.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function allows the user to quickly plot a time scale data table</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tsplot</span><span class="op">(</span></span>
<span>  <span class="va">tsdat</span>,</span>
<span>  ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  xlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prop <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  gap <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  bottom <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>  top <span class="op">=</span> <span class="st">"top"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Age (Ma)"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">""</span>,</span>
<span>  boxes <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  boxes.col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shading <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  shading.col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"white"</span>, <span class="st">"gray80"</span><span class="op">)</span>,</span>
<span>  plot.args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  boxes.args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  labels <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  labels.args <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lplab <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  rplab <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>tsdat</dt>
<dd><p><code>(data frame)</code>: The time scale data frame.</p></dd>


<dt>ylim</dt>
<dd><p><code>(numeric)</code>: The vertical extent of the plot, analogous to the same argument of <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></code>. By default it is set to the <code>[0,1]</code> interval.</p></dd>


<dt>xlim</dt>
<dd><p><code>(numeric)</code>: The horizontal extent of the plot, analogous to the same argument of <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></code>. By default it is set to plot the entire table. If a numeric vector with two values is supplied, it will be interpreted as the standard <code>xlim</code> argument and the plot will be displayed based on numerically constrained ages. If it is an integer vector with more than two values are plotted, the interval corresponding to the row indices of the table will be plotted.</p></dd>


<dt>prop</dt>
<dd><p><code>(numeric)</code>: Proportion of the vertical extent of the plot to display the the time scale at the bottom.</p></dd>


<dt>gap</dt>
<dd><p><code>(numeric)</code>: Proportion of the vertical extent of the plot that should be a gap betwen the time scale and the plot.</p></dd>


<dt>bottom</dt>
<dd><p><code>(character)</code>: Column name of the table for the variable that contains the older ages of intervals.</p></dd>


<dt>top</dt>
<dd><p><code>(character)</code>: Column name of the table for the variable that contains the earliest ages of intervals.</p></dd>


<dt>xlab</dt>
<dd><p><code>(character)</code>: The label of the time axis.</p></dd>


<dt>ylab</dt>
<dd><p><code>(character)</code>: The label of the data axis.</p></dd>


<dt>boxes</dt>
<dd><p><code>(character)</code>: Column name indicating the names that should be plotted as boxes of the timescale.</p></dd>


<dt>boxes.col</dt>
<dd><p><code>(character)</code>: Column name of the colour codes for the boxes. Each entry in this column has to correspond to an entry in the <code>boxes</code> column. It also overrides the <code>col</code> entries in the <code>boxes.args</code> argument.</p></dd>


<dt>shading</dt>
<dd><p><code>(character)</code>: Column name used for the shading. By default, no shading will be drawn (<code>shading = NULL</code>).</p></dd>


<dt>shading.col</dt>
<dd><p><code>(character)</code>: Colors that will be used for the shading, if shading is set. It is either a single column of the <code>tsdat</code> object with color codes, or multiple color entries. The provided colors will be repeated as many times as necessary.</p></dd>


<dt>plot.args</dt>
<dd><p><code>(list)</code>: Arguments that will be passed to the main <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></code> function.  Can be useful for the suppression of axes, font change etc.</p></dd>


<dt>boxes.args</dt>
<dd><p><code>(list)</code>: Arguments that will be passed to the <code><a href="https://rdrr.io/r/graphics/rect.html" class="external-link">rect</a></code> function that draws the rectangles of time intervals.</p></dd>


<dt>labels</dt>
<dd><p><code>(logical)</code>: Should the labels within the boxes be drawn? Setting this argumnet to <code>FALSE</code> will not call the <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code> function that draws the labels.</p></dd>


<dt>labels.args</dt>
<dd><p><code>(list)</code>: Arguments that will be passed to the <code><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></code> function that draws the labels. Can be <code>list</code>s of <code>list</code>s if multiple series of ``boxes`` are used.</p></dd>


<dt>lplab</dt>
<dd><p><code>logical</code>: When the left boundary of the plot does not match with any of the boundaries of the time scale boxes (and <code>labels=TRUE</code>), should the label of the partially drawn box be plotted?</p></dd>


<dt>rplab</dt>
<dd><p><code>logical</code>: When the right boundary of the plot does not match with any of the boundaries of the time scale boxes (and <code>labels=TRUE</code>), should the label of the partially drawn box be plotted?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The function has no return value.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>As most analysis use an individually compiled time scale object, in order to ensure compatibility between the analyzed and plotted values, the time scale table used for the analysis could be plotted rather than a standardized table. Two example tables have been included in the package (<code><a href="stages.html">stages</a></code> and <code><a href="tens.html">tens</a></code>) that can serve as templates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">stages</span><span class="op">)</span> </span></span>
<span class="r-in"><span>  <span class="fu">tsplot</span><span class="op">(</span><span class="va">stages</span>, boxes<span class="op">=</span><span class="st">"sys"</span>, shading<span class="op">=</span><span class="st">"series"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="tsplot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span> <span class="co"># same with colours</span></span></span>
<span class="r-in"><span>  <span class="fu">tsplot</span><span class="op">(</span><span class="va">stages</span>, boxes<span class="op">=</span><span class="st">"sys"</span>, shading<span class="op">=</span><span class="st">"series"</span>, boxes.col<span class="op">=</span><span class="st">"systemCol"</span><span class="op">)</span> </span></span>
<span class="r-plt img"><img src="tsplot-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># only the Mesozoic, custom axes</span></span></span>
<span class="r-in"><span>  <span class="fu">tsplot</span><span class="op">(</span><span class="va">stages</span>, boxes<span class="op">=</span><span class="st">"system"</span>, shading<span class="op">=</span><span class="st">"stage"</span>, xlim<span class="op">=</span><span class="fl">52</span><span class="op">:</span><span class="fl">81</span>, </span></span>
<span class="r-in"><span>    plot.args<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>axes<span class="op">=</span><span class="cn">FALSE</span>, main<span class="op">=</span><span class="st">"Mesozoic"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></span><span class="op">(</span><span class="fl">1</span>, at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">75</span>, <span class="op">-</span><span class="fl">25</span><span class="op">)</span>, labels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">250</span>, <span class="fl">75</span>, <span class="op">-</span><span class="fl">25</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/graphics/axis.html" class="external-link">axis</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="tsplot-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># only the Triassic, use the supplied abbreviations</span></span></span>
<span class="r-in"><span>  <span class="fu">tsplot</span><span class="op">(</span><span class="va">stages</span>, boxes<span class="op">=</span><span class="st">"short"</span>, shading<span class="op">=</span><span class="st">"stage"</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">250</span>,<span class="fl">199</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>    ylab<span class="op">=</span><span class="st">"variable"</span>, labels.args<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cex<span class="op">=</span><span class="fl">1.5</span>, col<span class="op">=</span><span class="st">"blue"</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>    boxes.args<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>col<span class="op">=</span><span class="st">"gray95"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="tsplot-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># colourful plot with two levels of hierarchy</span></span></span>
<span class="r-in"><span>   <span class="fu">tsplot</span><span class="op">(</span><span class="va">stages</span>, boxes<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"short"</span>, <span class="st">"system"</span><span class="op">)</span>, shading<span class="op">=</span><span class="st">"series"</span>,</span></span>
<span class="r-in"><span>     boxes.col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"col"</span>, <span class="st">"systemCol"</span><span class="op">)</span>, xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">52</span><span class="op">:</span><span class="fl">69</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="tsplot-5.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://palaeobiology.nat.fau.de/people/instructors/kocsis/" class="external-link">Adam T. Kocsis</a>, <a href="https://researchers.mq.edu.au/en/persons/john-alroy" class="external-link">John Alroy</a>, <a href="https://www.gzn.nat.fau.eu/palaeontologie/team/former-members/reddin/" class="external-link">Carl J. Reddin</a>, <a href="https://www.gzn.nat.fau.eu/palaeontologie/team/professors/kiessling/" class="external-link">Wolfgang Kiessling</a>, <a href="https://www.dfg.de/en/index.jsp" class="external-link"><img src="https://www.dfg.de/includes/bausteine/open_graph_de/dfgfallback.jpg" alt="dfg" width="80"></a>, <a href="https://www.gzn.nat.fau.eu/" class="external-link"><img src="https://www.gzn.nat.fau.de/files/2017/05/cropped-gzn-logo.jpg" alt="geozentrum" width="80"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

